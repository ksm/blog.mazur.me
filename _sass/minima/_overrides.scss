$dm-text-color: #cdd3de !default;
$dm-background-color: #1b2b34 !default;
$dm-brand-color: #5b89b8 !default;

$dm-grey-color: #8c96a0 !default;
$dm-grey-color-light: darken($dm-grey-color, 40%) !default;
$dm-grey-color-dark: lighten($dm-grey-color, 25%) !default;

@media (prefers-color-scheme: dark) {
  // Base
  body {
    color: $dm-text-color;
    background-color: $dm-background-color;
  }

  a {
    color: $dm-brand-color;

    &:visited {
      color: darken($dm-brand-color, 15%);
    }

    &:hover {
      color: $dm-text-color;
    }
  }

  blockquote {
    color: $dm-grey-color;
    border-left: 4px solid $dm-grey-color-light;
  }

  pre,
  code {
    border: 1px solid $dm-grey-color-light;
    background-color: #333333;
  }

  .svg-icon {
    fill: #{$dm-grey-color};
  }

  table {
    color: lighten($dm-text-color, 18%);
    border: 1px solid $dm-grey-color-light;
    tr {
      &:nth-child(even) {
        background-color: lighten($dm-grey-color-light, 6%);
      }
    }
    th {
      background-color: lighten($dm-grey-color-light, 3%);
      border: 1px solid darken($dm-grey-color-light, 4%);
      border-bottom-color: darken($dm-grey-color-light, 12%);
    }
    td {
      border: 1px solid $dm-grey-color-light;
    }
  }

  // Layout
  .site-header {
    border-top: 5px solid $dm-grey-color-dark;
    border-bottom: 1px solid $dm-grey-color-light;
  }

  .site-title {
    &,
    &:visited {
      color: $dm-grey-color-dark;
    }
  }

  .site-nav {
    .page-link {
      color: $dm-text-color;
    }

    @include media-query($on-palm) {
      background-color: $dm-background-color;
      border: 1px solid $dm-grey-color-light;

      .menu-icon {
        > svg {
          fill: $dm-grey-color-dark;
        }
      }
    }
  }

  .site-footer {
    border-top: 1px solid $dm-grey-color-light;
  }

  .footer-col-wrapper {
    color: $dm-grey-color;
  }

  .post-meta {
    color: $dm-grey-color;
  }

  /**
 * Syntax highlighting styles
 */
  .highlight {
    background: #fff;

    .highlighter-rouge & {
      background: #eef;
    }

    .c {
      color: #998;
      font-style: italic;
    } // Comment
    .err {
      color: #a61717;
      background-color: #e3d2d2;
    } // Error
    .k {
      font-weight: bold;
    } // Keyword
    .o {
      font-weight: bold;
    } // Operator
    .cm {
      color: #998;
      font-style: italic;
    } // Comment.Multiline
    .cp {
      color: #999;
      font-weight: bold;
    } // Comment.Preproc
    .c1 {
      color: #998;
      font-style: italic;
    } // Comment.Single
    .cs {
      color: #999;
      font-weight: bold;
      font-style: italic;
    } // Comment.Special
    .gd {
      color: #000;
      background-color: #fdd;
    } // Generic.Deleted
    .gd .x {
      color: #000;
      background-color: #faa;
    } // Generic.Deleted.Specific
    .ge {
      font-style: italic;
    } // Generic.Emph
    .gr {
      color: #a00;
    } // Generic.Error
    .gh {
      color: #999;
    } // Generic.Heading
    .gi {
      color: #000;
      background-color: #dfd;
    } // Generic.Inserted
    .gi .x {
      color: #000;
      background-color: #afa;
    } // Generic.Inserted.Specific
    .go {
      color: #888;
    } // Generic.Output
    .gp {
      color: #555;
    } // Generic.Prompt
    .gs {
      font-weight: bold;
    } // Generic.Strong
    .gu {
      color: #aaa;
    } // Generic.Subheading
    .gt {
      color: #a00;
    } // Generic.Traceback
    .kc {
      font-weight: bold;
    } // Keyword.Constant
    .kd {
      font-weight: bold;
    } // Keyword.Declaration
    .kp {
      font-weight: bold;
    } // Keyword.Pseudo
    .kr {
      font-weight: bold;
    } // Keyword.Reserved
    .kt {
      color: #458;
      font-weight: bold;
    } // Keyword.Type
    .m {
      color: #099;
    } // Literal.Number
    .s {
      color: #d14;
    } // Literal.String
    .na {
      color: #008080;
    } // Name.Attribute
    .nb {
      color: #0086b3;
    } // Name.Builtin
    .nc {
      color: #458;
      font-weight: bold;
    } // Name.Class
    .no {
      color: #008080;
    } // Name.Constant
    .ni {
      color: #800080;
    } // Name.Entity
    .ne {
      color: #900;
      font-weight: bold;
    } // Name.Exception
    .nf {
      color: #900;
      font-weight: bold;
    } // Name.Function
    .nn {
      color: #555;
    } // Name.Namespace
    .nt {
      color: #000080;
    } // Name.Tag
    .nv {
      color: #008080;
    } // Name.Variable
    .ow {
      font-weight: bold;
    } // Operator.Word
    .w {
      color: #bbb;
    } // Text.Whitespace
    .mf {
      color: #099;
    } // Literal.Number.Float
    .mh {
      color: #099;
    } // Literal.Number.Hex
    .mi {
      color: #099;
    } // Literal.Number.Integer
    .mo {
      color: #099;
    } // Literal.Number.Oct
    .sb {
      color: #d14;
    } // Literal.String.Backtick
    .sc {
      color: #d14;
    } // Literal.String.Char
    .sd {
      color: #d14;
    } // Literal.String.Doc
    .s2 {
      color: #d14;
    } // Literal.String.Double
    .se {
      color: #d14;
    } // Literal.String.Escape
    .sh {
      color: #d14;
    } // Literal.String.Heredoc
    .si {
      color: #d14;
    } // Literal.String.Interpol
    .sx {
      color: #d14;
    } // Literal.String.Other
    .sr {
      color: #009926;
    } // Literal.String.Regex
    .s1 {
      color: #d14;
    } // Literal.String.Single
    .ss {
      color: #990073;
    } // Literal.String.Symbol
    .bp {
      color: #999;
    } // Name.Builtin.Pseudo
    .vc {
      color: #008080;
    } // Name.Variable.Class
    .vg {
      color: #008080;
    } // Name.Variable.Global
    .vi {
      color: #008080;
    } // Name.Variable.Instance
    .il {
      color: #099;
    } // Literal.Number.Integer.Long
  }
}
